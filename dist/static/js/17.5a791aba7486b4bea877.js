(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"56Ql":function(t,e,a){"use strict";e.a={AIR_HISTORY_CITY_LIST:"AirHistoryCityList",AIR_SELECT_CITY:"AirSelectCity",TRAIN_HISTORY_CITY_LIST:"TrainHistoryCityList",TRAIN_SELECT_CITY:"TrainSelectCity",HOTEL_SELECT_CITY:"hotel.select.city",HOTEL_SEARCH_HISTORY:"hotel.search.history"}},"7ZU/":function(t,e,a){"use strict";var r=a("o0o1"),i=a.n(r),s=a("yXPU"),n=a.n(s),o=a("lwsE"),c=a.n(o),l=a("II3V"),u=l.a.makeGet("/api/wx/cp/getApproveInfo"),p=new function t(){c()(this,t),this.login=l.a.makePost("/api/wx/cp/login"),this.getApproveInfo=function(){var t=n()(i.a.mark(function t(){var e,a=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.apply(void 0,a);case 2:return(e=t.sent).data=(e.data||[]).sort(function(t,e){return e.applyTime-t.applyTime}),t.abrupt("return",e);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()};e.a=p},GxGS:function(t,e,a){"use strict";var r=a("o0o1"),i=a.n(r),s=a("yXPU"),n=a.n(s),o=a("Cd74"),c=a("9aTJ");e.a=function(){var a=Object(o.e)({airFilterTakeOffTime:0,airLimitTakeOffTime:0,airShowGp:0,airLimitMessage:"",airRequiredCostCenter:1,airCostCenter:1}),r=!1,t=function(){var t=n()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=5;break}return t.next=3,c.a.queryByCompanyId();case 3:(e=t.sent).data&&(Object.assign(a,e.data),null!==a.airRequiredCostCenter&&void 0!==a.airRequiredCostCenter||(a.airRequiredCostCenter=1),r=!0);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return t(),{preference:a,loadPreferenceSetting:t}}},In2M:function(t,e,a){"use strict";a.r(e);var r=a("lSNA"),i=a.n(r),s=a("RIqP"),N=a.n(s),n=a("o0o1"),B=a.n(n),o=a("yXPU"),E=a.n(o),I=a("Cd74"),M=a("33P3"),R=a("+n12"),c=a("lwsE"),l=a.n(c),u=a("II3V"),q=new function t(){l()(this,t),this.search=u.a.makeJPost("/api/air/flight/uquery/search",{successW:!1}),this.changeSearch=u.a.makeJPost("/api/air/flight/uquery/changeSearch",{successW:!1}),this.patBySeg=u.a.makeJPost("/api/air/flight/patBySeg",{successW:!1}),this.qunarFlightPrice=u.a.makeJPost("/api/air/flight/qunar/uquery/flightPrice",{successW:!1})},p=a("zCTp"),Y=a.n(p),z=a("YY8R"),J=a("9HTM"),Z=a("xGbm"),G=a("fyny"),H=a("JHpf"),Q=a("YLtl"),W=a("gV3c"),K=a("pHo4"),U=a("IUeo"),V=a("Lmx9"),X=a("GxGS"),$=a("XS0u"),tt=a("56Ql"),et=a("7ZU/");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){i()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={name:"List",setup:function(){var t=Object(W.a)(),s=t.route,n=t.router,e=Object(K.a)(),a=e.searchForm,r=e.rules,i=e.pickerOptions1,o=e.pickerOptions2,c=e.onExChangeCity,l=e.onBusiness,u=e.passengerList,p=e.onRemovePassenger,d=Object(U.a)(),v=d.isOpenBook,g=d.isEmployee,m=d.isTongYe,f=Object(V.a)("air"),y=f.getViolationPolicyList,h=f.showList,b=s.query,C=Object(X.a)(),_=C.preference,x=C.loadPreferenceSetting,w=Object(I.e)({loading:!1,lowestIcon:Y.a,timer:null,list:[],tick:Date.now(),$searchForm:{},searchForm:a,rules:r,pickerOptions1:i,pickerOptions2:o,onExChangeCity:c,onBusiness:l,passengerList:u,isOpenBook:v,isEmployee:g,isTongYe:m,showAgency:!1,showRefreshDialog:!1,preference:_,order:{cur:"time1",order:!0},bookFlightList:[],cityCodeMap:{},filter:{tabList:[{id:"departureTime",name:"起飞时间"},{id:"dPort",name:"出发机场"},{id:"aPort",name:"到达机场"},{id:"dev",name:"机型"},{id:"cabinClass",name:"舱等"},{id:"airline",name:"航空公司"},{id:"stopInfo",name:"经停"}],form:{departureTime:[],dPort:[],aPort:[],dev:[],cabinClass:[],airline:[],stopInfo:[]}},policyShowList:h,approveList:[]});w.query=Object(Q.cloneDeep)(w.searchForm);function k(){var t=$.a.getStorage(tt.a.AIR_SELECT_CITY)||{};if(Object.assign(w.searchForm,{onBusiness:b.onBusiness||"1",dCity:b.dCity||t.dCity||"CSX",aCity:b.aCity||t.aCity||"BJS",arriveDate:b.arriveDate?Z.a.parseDate(b.arriveDate):"",gp:b.gp||"",journeyType:b.journeyType||"OW",spNo:b.spNo||""}),b.departDate)w.searchForm.departDate=Z.a.parseDate(b.departDate);else{var e=new Date,a=Z.a.parseDate(t.departDate||e);w.searchForm.departDate=a<e?e:a}Object.assign(w.query,w.searchForm)}var D=function(){var e=E()(B.a.mark(function t(e){var a,r,i;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=w.approveList.find(function(t){return t.spNo===e}))return t.next=4,J.a.getCodeByName(a.departure);t.next=11;break;case 4:return r=t.sent,t.next=7,J.a.getCodeByName(a.destination);case 7:i=t.sent,w.searchForm.dCity=r,w.searchForm.aCity=i,w.searchForm.departDate=Z.a.parseDate(1e3*a.beginTime);case 11:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var t=E()(B.a.mark(function t(){var e,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et.a.getApproveInfo();case 2:e=t.sent,a=e.data||[],w.approveList=a.filter(function(t){return"PASSED"===t.status&&"CC"===t.type});case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(I.h)(m,function(t){w.showAgency=t}),Object(I.h)(function(){return s.query},function(t){var e=t.onBusiness,a=t.dCity,r=t.aCity,i=t.departDate,s=t.arriveDate,n=t.gp,o=t.journeyType,c=t.spNo;w.query.dCity===a&&w.query.aCity===r&&Z.a.getFormatDate(w.query.departDate,"yyyy-MM-dd")===i||(w.bookFlightList=[]),Object.assign(w.searchForm,{onBusiness:g?e||"1":"0",dCity:a||"CSX",departDate:i?Z.a.parseDate(i):new Date,aCity:r||"BJS",arriveDate:s?Z.a.parseDate(s):"",gp:n||"",journeyType:o||"OW",spNo:c||""}),a&&r&&T()},{lazy:!0}),Object(I.h)(function(){return _.airShowGp},function(t){t||(w.query.gp="0",w.searchForm.gp="0")}),w.dateKey=Object(I.a)(function(){return 0===w.bookFlightList.length?"departDate":"arriveDate"});function F(){var t=Object(R.h)(w.searchForm,["onBusiness","dCity","aCity","gp","journeyType","spNo"]);t.departDate=Z.a.getFormatDate(w.searchForm.departDate,"yyyy-MM-dd"),"RT"===t.journeyType&&(t.arriveDate=Z.a.getFormatDate(w.searchForm.arriveDate,"yyyy-MM-dd")),Object(R.b)(t)}w.departDate=Object(I.a)({get:function(){return w.query[w.dateKey]},set:function(t){w.loading||(w.searchForm[w.dateKey]=t,w.query[w.dateKey]=t,F())}}),w.chooseDate=Object(I.a)(function(){var t;return t=w.departDate?w.departDate:new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())}),w.minDate=Object(I.a)(function(){if("arriveDate"===w.dateKey)return w.query.departDate;var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}),w.dateList=Object(I.a)(function(){var t=w.chooseDate,e=[],a=6,r=Math.floor((t-w.minDate)/864e5);for(3<r&&(r=3);0<r;)e.push(new Date(t.getFullYear(),t.getMonth(),t.getDate()-r)),a--,r--;e.push(t);for(var i=1;i<=a;i++)e.push(new Date(t.getFullYear(),t.getMonth(),t.getDate()+i));var s=new Date;return e.map(function(t){var e="";if(t.getFullYear()>s.getFullYear()){var a=t.getFullYear()+"";e=a.substr(a.length-2)+"/"}return e+=t.format("MM/dd"),{date:t,dateStr:e,week:t.format("周w"),active:t===w.chooseDate}})}),w.queryParam=Object(I.a)(function(){var t=w.bookFlightList,e=t.length;if(0===e)return{flightList:[{aCity:w.query.aCity,dCity:w.query.dCity,departureDateTime:w.departDate}],onBusiness:w.onBusiness,journeyType:"OW",gp:"1"===w.query.gp};if(1!==e)return{};var a=t[0]||{};return{flightList:[Object(R.h)(a,["cabin","airline","flightNo","aCity","dCity","printPrice","salePrice","saleDiscount","showPrice","departureDateTime","childSalePrice","childPrintPrice","babySalePrice","babyPrintPrice"]),{aCity:w.query.dCity,dCity:w.query.aCity,departureDateTime:w.departDate}],onBusiness:w.onBusiness,journeyType:"RT",gp:"1"===w.query.gp}}),w.filterOptions=Object(I.a)(function(){var r={departureTime:[{id:1,name:"00:00-06:00"},{id:2,name:"06:00-12:00"},{id:3,name:"12:00-18:00"},{id:4,name:"18:00-24:00"}],cabinClass:[{id:"Y",name:"经济舱"},{id:"C",name:"公务舱"},{id:"F",name:"头等舱"}],dPort:[],aPort:[],dev:[],airline:[],stopInfo:[{id:"has",name:"有经停"},{id:"no",name:"无经停"}]},i={dPort:new Set,aPort:new Set,airline:new Set,dev:new Set};return w.list.forEach(function(a){["dPort","aPort","airline","dev"].forEach(function(t){var e=i[t];e.has(a[t])||(e.add(a[t]),r[t].push({id:a[t],name:a["".concat(t,"Name")]||a[t]}))})}),r}),w.path=Object(I.a)(function(){var t={},e=w.query.aCity,a=w.query.dCity,r=(w.cityCodeMap[e]||{name:""}).name,i=(w.cityCodeMap[a]||{name:""}).name;return t="departDate"===w.dateKey?{title:"去程",aCity:w.query.aCity,dCity:w.query.dCity,aCityName:r,dCityName:i}:{title:"返程",aCity:w.query.dCity,dCity:w.query.aCity,aCityName:i,dCityName:r},"OW"===w.query.journeyType&&(t.title="单程"),t}),w.tempList=Object(I.a)(function(){var m=Z.a.parseDate,f=z.a.STATIC_PATH,h=G.a.toFixed2;return w.list.filter(function(t){return Z.a.parseDate(t.departureDateTime).getTime()-Date.now()>=60*(_.airFilterTakeOffTime||0)*1e3}).map(function(c){var t=m(c.departureDateTime),e=m(c.arriveDateTime),a=(c.dPortName||"").replace("国际机场","").replace("机场",""),r=(c.aPortName||"").replace("国际机场","").replace("机场",""),i=2<a.length?3<a.length?"text-xs":"text-sm":"",s=2<r.length?3<r.length?"text-xs":"text-sm":"",n=c.flightTime,o="";60<n&&(o+=Math.floor(n/60)+"时",o+=n%60+"分");var l=new Date(t.getFullYear(),t.getMonth(),t.getDate()),u=new Date(e.getFullYear(),e.getMonth(),e.getDate()),p=Math.round((u-l)/3600/24/1e3),d=c.stopInfoList||[],v=d.map(function(t){return t.airCityName}).join(";"),g=d.map(function(t){return t.time}).join(";");return Object.assign({},c,{tax:(c.flightPriceList[0]||{tax:0}).tax,oilFee:(c.flightPriceList[0]||{oilFee:0}).oilFee,onTimeRatePercent:h(100*c.onTimeRate),dTerminal:c.dTerminal||"",aTerminal:c.aTerminal||"",aCity:w.path.aCity,aCityName:w.path.aCityName,dCity:w.path.dCity,dCityName:w.path.dCityName,departureYear:t.getFullYear(),stopCity:v,stopTime:g,dPortSN:a,aPortSN:r,dPortClass:i,aPortClass:s,flightTimeStr:o,departureDateTime:t,arriveDateTime:e,departureTimeStr:Z.a.getFormatDate(t,"hh:mm"),departureDateStr:Z.a.getFormatDate(t,"MM-dd"),arriveTimeStr:Z.a.getFormatDate(e,"hh:mm"),arriveDateStr:Z.a.getFormatDate(e,"MM-dd"),arriveDays:p,hasMealStr:c.hasMeal?"有餐食":"无餐食",logo:"".concat(f,"/static/images/air/logo/").concat(c.airline,".png"),carrierLogo:"".concat(f,"/static/images/air/logo/").concat(c.carrierAirline,".png"),flightPriceList:c.flightPriceList.map(function(t){var e=new Set,a=y([Object.assign({},c,t)]).reduce(function(t,e){return t[e.level]=e,t},{}),r=N()(new Set(w.passengerList.filter(function(t){return"colleague"===t.key}).map(function(t){return t.detail.level}))),i=N()(new Set(r.map(function(t){return a[t]||a[""]}).filter(function(t){return!!t}))).filter(function(t){return t.isViolation}),s=0<i.filter(function(t){return 0===t.violation}).length,n=s||0<i.length;i.forEach(function(t){t.list.forEach(function(t){e.add(t.msg)})});var o=!w.onBusiness||w.isOpenBook;return Object.assign({},t,{reasons:N()(e),isDisabled:s,isViolation:n,hasPermission:o})}).sort(function(t,e){var a=(t.cabinClassName||"0").charCodeAt(0),r=(e.cabinClassName||"0").charCodeAt(0);return a===r?t.salePrice-e.salePrice:r-a})})})}),w.filterList=Object(I.a)(function(){var s={1:[0,6],2:[6,12],3:[12,18],4:[18,24]},t=w.tempList,e=w.filter.form.stopInfo||[];return 0<e.length&&e.length<2&&(t="has"===e[0].id?t.filter(function(t){return 0<(t.stopInfoList||[]).length}):t.filter(function(t){return 0===(t.stopInfoList||[]).length})),(t=t.filter(function(a){var r=a.departureDateTime.getHours(),i=w.filter.form,t=i.departureTime.map(function(t){return t.id});return!(0<t.length&&!t.some(function(t){var e=s[t];return r>=e[0]&&r<=e[1]}))&&["dPort","aPort","dev","airline"].every(function(t){var e=i[t].map(function(t){return t.id});return!(0<e.length&&e.indexOf(a[t])<0)})}).map(function(t){return Object.assign({},t,{flightPriceList:t.flightPriceList.filter(function(t){var e=w.filter.form.cabinClass.map(function(t){return t.id});return!(0<e.length&&e.indexOf(t.cabinClass)<0)})})}).filter(function(t){return 0<t.flightPriceList.length})).sort(function(t,e){var a=0;return"time1"===w.order.cur?a=t.departureDateTime.getTime()-e.departureDateTime.getTime():"time2"===w.order.cur?a=t.arriveDateTime.getTime()-e.arriveDateTime.getTime():"money"===w.order.cur&&(a=t.lowestSalePrice-e.lowestSalePrice),w.order.order?a:-a})}),w.lowestPrice=Object(I.a)(function(){return w.tempList.reduce(function(t,e){return t>e.lowestSalePrice?e.lowestSalePrice:t},999999)});var S=function(){var t=E()(B.a.mark(function t(){var e,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(w.loading)return t.abrupt("return");t.next=2;break;case 2:return w.loading=!0,w.tick=Date.now(),t.prev=4,t.next=7,q.search(w.queryParam);case 7:return e=t.sent,w.list=[],t.next=11,Object(I.b)();case 11:(a=e.data||[]).forEach(function(t){t.loadAll=!("QUNAR"===t.priceSource),t.loading=!1}),w.list=a,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),w.list=[];case 19:return t.prev=19,w.loading=!1,t.finish(19);case 22:case"end":return t.stop()}},t,null,[[4,16,19,22]])}));return function(){return t.apply(this,arguments)}}(),P=function(){var t=E()(B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.bookFlightList=[],t.next=3,S();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),T=function(){var t=E()(B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object.assign(w.query,w.searchForm),t.next=3,S();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),j=function(){var t=E()(B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.$searchForm.validate();case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 9:if(w.bookFlightList=[],F(),w.loading){t.next=14;break}return t.next=14,T();case 14:case"end":return t.stop()}},t,null,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),L=function(){var a=E()(B.a.mark(function t(e,a){var r,i,s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.hasPermission){t.next=3;break}return M.a.error("您未开通预订权限，请联系管理员"),t.abrupt("return");case 3:if(Z.a.parseDate(e.departureDateTime).getTime()-Date.now()<60*(_.airLimitTakeOffTime||0)*1e3)return t.prev=5,t.next=8,M.a.confirm(_.airLimitMessage,"提示",{confirmButtonText:"确定",cancelButtonText:"重新选择",type:"warning"});t.next=13;break;case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(5),t.abrupt("return");case 13:if(r=Object.assign({},e,a),"OW"===w.query.journeyType)return delete r.flightPriceList,t.next=18,H.a.put({value:JSON.stringify(at({},w.query,{passengerList:w.passengerList,flightList:[r]}))});t.next=23;break;case 18:return i=t.sent,t.next=21,n.push({path:"/air/book",query:{t:i.data}});case 21:t.next=34;break;case 23:if(0!==w.bookFlightList.length){t.next=28;break}w.bookFlightList.push(r),S(),t.next=34;break;case 28:return w.bookFlightList.push(r),t.next=31,H.a.put({value:JSON.stringify(at({},w.query,{passengerList:w.passengerList,flightList:w.bookFlightList}))});case 31:return s=t.sent,t.next=34,n.push({path:"/air/book",query:{t:s.data}});case 34:case"end":return t.stop()}},t,null,[[5,10]])}));return function(t,e){return a.apply(this,arguments)}}(),A=function(){var t=E()(B.a.mark(function t(){var e,a,r,i;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.isEmployee&&O(),t.next=3,k();case 3:return t.next=5,J.a.get();case 5:return e=t.sent,w.cityCodeMap=e.codeMap,a=s.query,r=a.dCity,i=a.aCity,w.timer=setInterval(function(){0!==w.list.length&&6e5<Date.now()-w.tick&&(w.showRefreshDialog=!0,w.tick=Date.now())},1e4),t.next=11,x();case 11:if(r&&i)return t.next=14,S();t.next=14;break;case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(I.c)(function(){clearInterval(w.timer)}),A(),at({},Object(I.g)(w),{lowestIcon:Y.a,hasFreeBaggage:function(t){return(t.freeBaggage+"").startsWith("0")},onSelectSpNo:D,onRefreshByTip:function(){w.showRefreshDialog=!1,S()},reSearch:P,onSearch:j,onSelectDate:function(t){w.loading||(w.departDate=t.date)},onChangeOrder:function(t){w.order.cur!==t?(w.order.cur=t,w.order.order=!0):w.order.order=!w.order.order},onSelectFilter:function(t){var e=t.key,a=t.option,r=w.filter.form[e],i=r.indexOf(a);-1<i?r.splice(i,1):r.push(a)},removeFilter:function(t,e){var a=w.filter.form[t],r=a.indexOf(e);-1<r&&a.splice(r,1)},onClearFilter:function(){var e=w.filter.form;Object.keys(e).forEach(function(t){e[t]=[]})},onBook:L,onRemovePassenger:p,onShowPriceList:function(n){return E()(B.a.mark(function t(){var e,a,r,i,s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.airline,a=n.flightNo,!(r=w.list.find(function(t){return e===t.airline&&a===t.flightNo}))||r.loadAll){t.next=16;break}if(r.loading){t.next=16;break}return r.loading=!0,t.prev=6,t.next=9,q.qunarFlightPrice({dPort:n.dPort,aPort:n.aPort,date:Z.a.getFormatDate(n.departureDateTime,"yyyy-MM-dd"),flightNo:e+a,exTrack:null,lowestPriceIBE:n.lowestSalePriceIBE||9999999});case 9:s=t.sent,r.flightPriceList=r.flightPriceList.filter(function(t){return"QUNAR"!==t.priceSource}),(i=r.flightPriceList).push.apply(i,N()(s.data||[])),r.loadAll=!0;case 13:return t.prev=13,r.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,null,[[6,,13,16]])}))()}})}},g=(a("xHE1"),a("KHd+")),m=Object(g.a)(v,function(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",{staticClass:"air-content padding-top"},[i("div",{staticClass:"bg-white padding z-2 margin-bottom"},[i("el-form",{ref:"$searchForm",attrs:{model:r.searchForm,inline:"",size:"mini"}},[i("div",[i("el-form-item",[i("el-select",{staticClass:"w100",model:{value:r.searchForm.journeyType,callback:function(t){r.$set(r.searchForm,"journeyType",t)},expression:"searchForm.journeyType"}},[i("el-option",{attrs:{label:"单程",value:"OW"}}),r._v(" "),i("el-option",{attrs:{label:"往返",value:"RT"}})],1)],1),r._v(" "),i("el-form-item",{attrs:{prop:"dCity",rules:r.rules.notEmpty}},[i("div",{staticClass:"w160"},[i("c-select-air-city",{attrs:{placeholder:"出发城市"},model:{value:r.searchForm.dCity,callback:function(t){r.$set(r.searchForm,"dCity",t)},expression:"searchForm.dCity"}})],1)]),r._v(" "),i("el-form-item",[i("span",{staticClass:"margin-sm-reverse padding-sm cursor-pointer",attrs:{title:"交换"},on:{click:r.onExChangeCity}},[i("i",{staticClass:"iconfont icon-refresh"})])]),r._v(" "),i("el-form-item",{attrs:{prop:"aCity",rules:r.rules.aCity}},[i("div",{staticClass:"w160"},[i("c-select-air-city",{attrs:{placeholder:"到达城市"},model:{value:r.searchForm.aCity,callback:function(t){r.$set(r.searchForm,"aCity",t)},expression:"searchForm.aCity"}})],1)]),r._v(" "),i("el-form-item",{attrs:{prop:"departDate",rules:r.rules.notEmpty}},[i("el-date-picker",{staticClass:"w160",attrs:{"popper-class":"disabled-next-year","picker-options":r.pickerOptions1,clearable:!1,type:"date",placeholder:"出发日期"},model:{value:r.searchForm.departDate,callback:function(t){r.$set(r.searchForm,"departDate",t)},expression:"searchForm.departDate"}})],1),r._v(" "),i("el-form-item",{attrs:{prop:"arriveDate",rules:r.rules.arriveDate}},[i("el-date-picker",{staticClass:"w160",attrs:{"popper-class":"disabled-next-year","picker-options":r.pickerOptions2,clearable:!1,type:"date",placeholder:"返程日期"},on:{change:function(t){r.searchForm.journeyType="RT"}},model:{value:r.searchForm.arriveDate,callback:function(t){r.$set(r.searchForm,"arriveDate",t)},expression:"searchForm.arriveDate"}})],1),r._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:r.loading},on:{click:r.onSearch}},[r._v("重新搜索")]),r._v(" "),r.preference.airShowGp?i("el-checkbox",{staticClass:"margin-left",attrs:{"true-label":"1","false-label":"0"},model:{value:r.searchForm.gp,callback:function(t){r.$set(r.searchForm,"gp",t)},expression:"searchForm.gp"}},[r._v("公务员票\n          ")]):r._e(),r._v(" "),r.isTongYe?i("el-checkbox",{staticClass:"margin-left",model:{value:r.showAgency,callback:function(t){r.showAgency=t},expression:"showAgency"}},[r._v("代理费")]):r._e()],1)],1),r._v(" "),i("div",[r.isEmployee?i("el-form-item",[i("el-select",{staticClass:"w100",model:{value:r.searchForm.onBusiness,callback:function(t){r.$set(r.searchForm,"onBusiness",t)},expression:"searchForm.onBusiness"}},[i("el-option",{attrs:{label:"因公",value:"1"}}),r._v(" "),i("el-option",{attrs:{label:"因私",value:"0"}})],1)],1):r._e(),r._v(" "),r.isEmployee?i("el-form-item",{attrs:{label:"审批单"}},[i("el-select",{staticClass:"w150",attrs:{clearable:""},on:{change:r.onSelectSpNo},model:{value:r.searchForm.spNo,callback:function(t){r.$set(r.searchForm,"spNo",t)},expression:"searchForm.spNo"}},r._l(r.approveList,function(t,e){return i("el-option",{key:e,attrs:{value:t.spNo,label:t.spNo}})}),1)],1):r._e(),r._v(" "),i("el-form-item",{attrs:{label:"旅客："}},[r._l(r.passengerList,function(t,e){return i("el-tag",{key:t.type+t.detail.id,staticClass:"margin-right-sm",attrs:{size:"small",closable:""},on:{close:function(t){return r.onRemovePassenger(e)}}},[r._v(r._s(t.showName)+"\n          ")])}),r._v(" "),i("c-select-passenger",{attrs:{check:"",type:"air","flight-list":r.bookFlightList,"on-business":r.onBusiness},model:{value:r.passengerList,callback:function(t){r.passengerList=t},expression:"passengerList"}},[i("el-button",{staticClass:"margin-sm-reverse padding-sm",attrs:{type:"text"}},[i("i",{staticClass:"el-icon-circle-plus"},[r._v("添加旅客")])])],1)],2)],1)])],1),r._v(" "),i("el-row",[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"solid-border bg-white z-2 margin-bottom"},[i("div",{staticClass:"bg-gray padding-sm"},[r._v("图标说明")]),r._v(" "),i("ul",{staticClass:"padding-sm"},[i("li",{staticClass:"margin-bottom-xs"},[i("span",{staticClass:"inline-block",staticStyle:{width:"50px"}},[i("span",{staticClass:"mark2 bg-red"},[r._v("超标")])]),r._v(" "),i("span",[r._v("超标")])]),r._v(" "),i("li",{staticClass:"margin-bottom-xs"},[i("span",{staticClass:"inline-block",staticStyle:{width:"50px"}},[i("span",{staticClass:"mark bg-blue"},[r._v("协")])]),r._v(" "),i("span",[r._v("协议价")])]),r._v(" "),i("li",{staticClass:"margin-bottom-xs"},[i("span",{staticClass:"inline-block",staticStyle:{width:"50px"}},[i("span",{staticClass:"mark2 bg-purple"},[r._v("GP")])]),r._v(" "),i("span",[r._v("政府采购")])])])]),r._v(" "),i("div",{staticClass:"solid-border bg-white z-2"},[i("div",{staticClass:"bg-gray padding-sm"},[r._v("差旅政策")]),r._v(" "),i("ul",{staticClass:"padding-sm"},r._l(r.policyShowList,function(t,e){return i("li",{key:t.levelName+e,staticClass:"margin-bottom-xs"},[i("div",{staticClass:"text-black text-bold"},[r._v("\n              "+r._s(t.levelName)+":\n            ")]),r._v(" "),r._l(t.tips,function(t){return i("div",{key:t.type},[r._v(r._s(t.msg))])})],2)}),0)])]),r._v(" "),i("el-col",{attrs:{span:19}},[i("div",{staticClass:"padding-left"},[i("ul",{staticClass:"flex margin-bottom date-tab-select"},r._l(r.dateList,function(e,t){return i("li",{key:t,staticClass:"flex-sub padding",class:{active:e.active},on:{click:function(t){return r.onSelectDate(e)}}},[r._v("\n            "+r._s(e.dateStr)+" "+r._s(e.week)+"\n          ")])}),0),r._v(" "),i("div",{staticClass:"margin-bottom"},[i("div",{staticClass:"margin-bottom-sm flex align-center"},[i("div",[r._v("\n              筛选：\n            ")]),r._v(" "),r._l(r.filter.tabList,function(e){return i("el-dropdown",{key:e.id,staticClass:"margin-right-xs",attrs:{trigger:"click"},on:{command:r.onSelectFilter}},[i("el-button",{attrs:{plain:"",size:"mini",loading:r.loading}},[r._v("\n                "+r._s(e.name)),r.loading?r._e():i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},r._l(r.filterOptions[e.id],function(t){return i("el-dropdown-item",{key:t.id,attrs:{command:{key:e.id,option:t}}},[r._v(r._s(t.name)+"\n                ")])}),1)],1)}),r._v(" "),i("div",{staticClass:"margin-left",on:{click:r.onClearFilter}},[i("el-button",{attrs:{type:"text",size:"mini"}},[r._v("清空")])],1)],2),r._v(" "),i("div",{staticClass:"flex flex-wrap"},[i("div",{staticClass:"nowrap"},[r._v("筛选条件：")]),r._v(" "),r._l(r.filter.tabList,function(a){return[r._l(r.filter.form[a.id],function(e){return[i("el-tag",{key:a.id+"-"+e.id,staticClass:"margin-right-sm margin-bottom-sm",attrs:{type:"primary",size:"mini",effect:"dark",closable:""},on:{close:function(t){return r.removeFilter(a.id,e)}}},[r._v(r._s(e.name)+"\n                ")])]})]})],2)]),r._v(" "),0<r.bookFlightList.length?i("div",{staticClass:"margin-bottom-sm flex bg-white z-2 align-stretch"},[i("div",{staticClass:"padding bg-blue flex align-center"},[r._v("去程")]),r._v(" "),i("div",{staticClass:"flex align-center flex-sub"},[i("div",{staticClass:"padding-lg"},[i("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"sub"},attrs:{src:r.bookFlightList[0].logo}}),r._v(" "),i("span",{staticClass:"text-bold"},[r._v(r._s(r.bookFlightList[0].airlineName))]),r._v(" "),i("span",[r._v(r._s(r.bookFlightList[0].airline)+r._s(r.bookFlightList[0].flightNo))])]),r._v(" "),i("div",{staticClass:"flex align-center padding"},[i("div",{staticClass:"margin-left-sm w160 text-right",staticStyle:{"min-width":"140px"}},[i("div",{staticClass:"text-xxl text-bold text-black margin-bottom-xs"},[r._v(r._s(r.bookFlightList[0].departureDateStr)+"\n                  "+r._s(r.bookFlightList[0].departureTimeStr)+"\n                ")]),r._v(" "),i("div",[r._v(r._s(r.bookFlightList[0].dPortName)+" "+r._s(r.bookFlightList[0].dTerminal))])]),r._v(" "),i("div",{staticClass:"padding-sm w160"},[i("div",{staticClass:"air-arrow-right"},[i("div",{staticClass:"label text-gray text-center"},[r._v(r._s(r.bookFlightList[0].flightTimeStr))]),r._v(" "),i("div",{staticClass:"label-bottom text-gray text-center text-cut"},[i("span",[r._v(r._s(r.bookFlightList[0].stopCity))])])])]),r._v(" "),i("div",{staticClass:"margin-right-sm w160 text-left",staticStyle:{"min-width":"140px"}},[i("div",{staticClass:"text-xxl text-bold text-black margin-bottom-xs"},[r._v(r._s(r.bookFlightList[0].arriveDateStr)+"\n                  "+r._s(r.bookFlightList[0].arriveTimeStr)+"\n                ")]),r._v(" "),i("div",[r._v(r._s(r.bookFlightList[0].aPortName)+" "+r._s(r.bookFlightList[0].aTerminal))])])]),r._v(" "),i("div",{staticClass:"flex padding-right-xl flex-sub justify-end"},[i("el-button",{attrs:{type:"warning",size:"mini",loading:r.loading},on:{click:r.reSearch}},[r._v("重选")])],1)])]):r._e(),r._v(" "),i("div",{staticClass:"margin-bottom-sm  bg-white z-2"},[i("div",{staticClass:"flex text-bold text-lg align-center bg-gray padding-lr padding-tb-sm"},[i("div",[r._v(r._s(r.path.title)+"：")]),r._v(" "),i("div",[r._v(r._s(r.path.dCityName))]),r._v(" "),i("div",{staticClass:"air-arrow-right margin-lr-sm",staticStyle:{width:"2em"}}),r._v(" "),i("div",[r._v(r._s(r.path.aCityName))]),r._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!r.loading,expression:"!loading"}],staticClass:"margin-left text-df text-gray"},[r._v("("+r._s(r.list.length)+"个航班)")])]),r._v(" "),i("div",{staticClass:"padding-lr-lg padding-tb flex align-center"},[i("div",{staticStyle:{width:"140px","min-width":"140px"}}),r._v(" "),i("div",{staticClass:"flex-sub flex align-center",staticStyle:{width:"360px"}},[i("div",{staticClass:"margin-left-sm w140 text-right",staticStyle:{"min-width":"140px"}},[i("div",{staticClass:"margin-sm-reverse padding-sm cursor-pointer",class:{"text-blue":"time1"===r.order.cur},on:{click:function(t){return r.onChangeOrder("time1")}}},[r._v("起飞时间\n                  "),"time1"!==r.order.cur||r.order.order?i("i",{staticClass:"iconfont icon-arrow-down"}):i("i",{staticClass:"iconfont icon-arrow-up"})])]),r._v(" "),i("div",{staticClass:"flex-sub"}),r._v(" "),i("div",{staticClass:"margin-right-sm w140 text-left",staticStyle:{"min-width":"140px"}},[i("div",{staticClass:"margin-sm-reverse padding-sm cursor-pointer",class:{"text-blue":"time2"===r.order.cur},on:{click:function(t){return r.onChangeOrder("time2")}}},[r._v("到达时间\n                  "),"time2"!==r.order.cur||r.order.order?i("i",{staticClass:"iconfont icon-arrow-down"}):i("i",{staticClass:"iconfont icon-arrow-up"})])])]),r._v(" "),i("div",{staticClass:"w120",staticStyle:{"min-width":"120px"}}),r._v(" "),i("div",{staticClass:"w120 text-right",staticStyle:{"min-width":"120px","text-align":"center"}},[i("div",{staticClass:"margin-sm-reverse padding-sm cursor-pointer",class:{"text-blue":"money"===r.order.cur},on:{click:function(t){return r.onChangeOrder("money")}}},[r._v("价格\n                "),"money"!==r.order.cur||r.order.order?i("i",{staticClass:"iconfont icon-arrow-down"}):i("i",{staticClass:"iconfont icon-arrow-up"})])]),r._v(" "),i("div",{staticClass:"w80",staticStyle:{"min-width":"80px"}})])]),r._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:r.loading,expression:"loading"}],staticStyle:{"min-height":"300px"}},[0<r.filterList.length?i("c-collapse",r._l(r.filterList,function(a){return i("c-collapse-item",{key:a.airline+a.flightNo,staticClass:"margin-bottom-sm bg-white z-2"},[i("div",{staticClass:"padding-lg flex align-center",staticStyle:{position:"relative"},attrs:{slot:"title"},slot:"title"},[r.lowestPrice===a.lowestSalePrice?i("div",{staticClass:"bg-img",staticStyle:{width:"50px",height:"50px",position:"absolute",top:"0",right:"0"},style:[{backgroundImage:"url("+r.lowestIcon+")"}]}):r._e(),r._v(" "),i("div",{staticStyle:{width:"140px"}},[i("div",{staticClass:"margin-bottom-xs"},[i("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"sub"},attrs:{src:a.logo}}),r._v(" "),i("span",{staticClass:"text-bold"},[r._v(r._s(a.airlineSN))]),r._v(" "),i("span",[r._v(r._s(a.airline)+r._s(a.flightNo))])]),r._v(" "),i("div",{staticClass:"text-gray"},[i("span",{staticClass:"inline-block",staticStyle:{width:"16px"}}),r._v(" "),i("span",[r._v(r._s(a.devName))])])]),r._v(" "),i("div",{staticClass:"flex-sub flex align-center",staticStyle:{width:"360px"}},[i("div",{staticClass:"margin-left-sm w140 text-right",staticStyle:{"min-width":"140px"}},[i("div",{staticClass:"text-xxl text-bold"},[r._v(r._s(a.departureTimeStr))]),r._v(" "),i("div",[r._v(r._s(a.dPortName)+r._s(a.dTerminal))])]),r._v(" "),i("div",{staticClass:"padding-sm flex-sub"},[i("div",{staticClass:"air-arrow-right"},[i("div",{staticClass:"label text-gray text-center"},[r._v(r._s(a.flightTimeStr))]),r._v(" "),i("div",{staticClass:"label-bottom text-gray text-center text-cut"},[i("span",[r._v(r._s(a.stopCity))])])])]),r._v(" "),i("div",{staticClass:"margin-right-sm w140 text-left",staticStyle:{"min-width":"140px"}},[i("div",[i("span",{staticClass:"text-xxl text-bold"},[r._v(r._s(a.arriveTimeStr))]),r._v(" "),0<a.arriveDays?i("span",{},[r._v("+"+r._s(a.arriveDays))]):r._e()]),r._v(" "),i("div",[r._v(r._s(a.aPortName)+r._s(a.aTerminal))])])]),r._v(" "),i("div",{staticClass:"w120"}),r._v(" "),i("div",{staticClass:"w120 padding-right-sm text-right"},[i("span",{staticClass:"margin-right-xs"},[r._v("¥")]),r._v(" "),i("span",{staticClass:"text-xxl text-orange text-bold"},[r._v(r._s(a.lowestSalePrice))]),r._v(" "),i("span",[r._v("起")])]),r._v(" "),i("div",{staticClass:"w80 text-center"},[i("c-collapse-button",{scopedSlots:r._u([{key:"default",fn:function(t){return[t.show?i("el-button",{attrs:{type:"primary",plain:"",size:"mini"}},[i("span",[r._v("收起")]),r._v(" "),i("i",{staticClass:"iconfont icon-hide"})]):i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return r.onShowPriceList(a)}}},[i("span",[r._v("订票")]),r._v(" "),i("i",{staticClass:"iconfont icon-show"})])]}}],null,!0)})],1)]),r._v(" "),i("div",{staticClass:"flight-list"},[i("div",{staticClass:"arrow-up"}),r._v(" "),i("div",{staticClass:"padding-sm flex justify-between bg-gray"},[i("div"),r._v(" "),i("div",{staticClass:"w240"},[i("div",{staticClass:"inline-block margin-right"},[r._v("机建¥"+r._s(a.tax))]),r._v(" "),i("div",{staticClass:"inline-block margin-right"},[r._v("燃油¥"+r._s(a.oilFee))]),r._v(" "),i("div",{staticClass:"inline-block margin-right"},[r._v(r._s(a.hasMealStr))])])]),r._v(" "),a.loading?i("div",{staticClass:"text-center padding"},[i("div",{staticClass:"text-blue"},[i("i",{staticClass:"el-icon-loading"}),i("p",{staticClass:"el-loading-text"},[r._v("拼命加载中")])])]):r._e(),r._v(" "),r._l(a.flightPriceList,function(e,t){return i("div",{key:t,staticClass:"flight-item flex align-center padding"},[i("div",{staticClass:"w200 text-center"},["QUNAR"===e.priceSource?["OPL9"===e.productTag?i("span",[r._v("官方旗舰店")]):i("span",[r._v("三和特惠")])]:r._e()],2),r._v(" "),i("div",{staticClass:"flex-sub flex"},[i("div",{staticClass:"w160"},[i("el-popover",{attrs:{width:"400",trigger:"hover"}},[i("table",{staticClass:"flight-tip-table"},[i("tbody",[i("tr",[i("th",{attrs:{width:"80"}},[r._v("退票条件")]),r._v(" "),i("td",[r._v(r._s(e.refundRuleText))])]),r._v(" "),i("tr",[i("th",{attrs:{width:"80"}},[r._v("改签条件")]),r._v(" "),i("td",[r._v(r._s(e.rebookRuleText))])]),r._v(" "),i("tr",[i("th",{attrs:{width:"80"}},[r._v("行李额")]),r._v(" "),i("td",[r._v(r._s(e.baggage||"以航司规定为准"))])])])]),r._v(" "),i("span",{staticClass:"text-blue",staticStyle:{cursor:"help"},attrs:{slot:"reference"},slot:"reference"},[r._v("退改签&行李额说明")])]),r._v(" "),r.hasFreeBaggage(e)?i("div",{staticClass:"text-orange text-sm"},[i("i",{staticClass:"iconfont icon-warn_circle"}),r._v(" 无免费托运行李\n                      ")]):r._e()],1),r._v(" "),i("div",{staticClass:"w160 text-center"},[e.cabinDescription?i("el-popover",{attrs:{width:"400",trigger:"hover"}},[i("div",[r._v(r._s(e.cabinDescription))]),r._v(" "),i("span",{staticClass:"text-help",attrs:{slot:"reference"},slot:"reference"},[r._v(r._s(e.cabinName))])]):i("span",[r._v(r._s(e.cabinName))])],1),r._v(" "),e.discount?i("div",{staticClass:"margin-right-xs"},[10===Number(e.discount)?[r._v("全价")]:[r._v(r._s(Number(e.discount))+"折")]],2):r._e(),r._v(" "),e.roundTrip?i("el-tag",{attrs:{size:"mini",type:"warning",effect:"dark"}},[r._v("往返特惠")]):r._e()],1),r._v(" "),i("div",{staticClass:"w120 padding-right-sm text-right"},[e.protocolPriceFlag&&e.showProtocolPrice||e.gpPriceFlag?i("div",{staticClass:"text-gray"},[i("span",{staticClass:"margin-right-xs"},[r._v("¥")]),r._v(" "),i("span",{staticClass:"text-xl",staticStyle:{"text-decoration":"line-through"}},[r._v(r._s(e.originalPrintPrice))])]):r._e(),r._v(" "),i("div",[i("span",{staticClass:"margin-right-xs"},[r._v("¥")]),r._v(" "),i("span",{staticClass:"text-xl text-orange text-bold"},[r._v(r._s(e.showPrice))])])]),r._v(" "),i("div",{staticClass:"w80 text-center"},[i("el-button",{attrs:{disabled:e.isDisabled||!(0<e.avNum),type:"warning",size:"mini"},on:{click:function(t){return r.onBook(a,e)}}},[r._v("\n                      订票\n                    ")])],1),r._v(" "),i("div",{staticClass:"w50 text-center"},[e.avNum<10?i("span",{staticClass:"av-num"},[r._v(r._s(e.avNum)+"张")]):10<=e.avNum?i("span",[r._v("充足")]):i("span",[r._v("无票")])]),r._v(" "),i("div",{staticClass:"w80"},[i("div",{staticClass:"flex justify-around margin-bottom-xs"},[e.protocolPriceFlag&&e.showProtocolPrice?i("span",{staticClass:"mark bg-blue"},[r._v("协")]):r._e(),r._v(" "),e.gpPriceFlag?i("span",{staticClass:"mark2 bg-purple"},[r._v("GP")]):r._e(),r._v(" "),e.isViolation?i("el-popover",{attrs:{title:"超标项",width:"400",trigger:"hover"}},[r._l(e.reasons,function(t,e){return i("div",{key:e},[r._v(r._s(e+1)+"."+r._s(t))])}),r._v(" "),i("span",{staticClass:"mark2 bg-red",staticStyle:{cursor:"help"},attrs:{slot:"reference"},slot:"reference"},[r._v("超标")])],2):r._e()],1),r._v(" "),r.isTongYe&&r.showAgency&&e.saleDiscount<0?i("div",{staticClass:"mark-discount text-center margin-bottom-xs"},[r._v("代理费¥"+r._s(-e.saleDiscount)+"\n                    ")]):r._e()])])})],2)])}),1):r.loading?r._e():i("div",{staticClass:"text-center margin-bottom-sm bg-white z-2",staticStyle:{height:"300px","line-height":"300px"}},[i("div",{staticClass:"text-bold text-gray",staticStyle:{"font-size":"66px"}},[r._v("暂无数据")])])],1)])])],1),r._v(" "),i("el-dialog",{attrs:{visible:r.showRefreshDialog,title:"提示",width:"300px"},on:{"update:visible":function(t){r.showRefreshDialog=t}}},[i("span",[r._v("当前页面停留时间过长，是否刷新获取最新数据")]),r._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){r.showRefreshDialog=!1}}},[r._v("取 消")]),r._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:r.onRefreshByTip}},[r._v("确 定")])],1)])],1)},[],!1,null,"7cf3ec3a",null);e.default=m.exports},JHpf:function(t,e,a){"use strict";var r=a("lwsE"),i=a.n(r),s=a("II3V");e.a=new function t(){i()(this,t),this.put=s.a.makePost("/api/cache/put",{successW:!1}),this.get=s.a.makeGet("/api/cache/get",{expire:6e4})}},JjU2:function(t,e,a){"use strict";var r=a("RIqP"),i=a.n(r),s=a("lSNA"),n=a.n(s),o=a("Cd74"),c=a("jxIu"),l=a("xGbm"),u=a("IUeo");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}e.a=function(r){var t=Object(u.a)().isEmployee,e=Object(o.e)({isEmployee:t});e.arriveDate=Object(o.a)(function(){return"RT"===r.journeyType?c.a.notEmpty:[]}),e.pickerOptions1=Object(o.a)(function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return{disabledDate:function(t){return t.getTime()<e}}}),e.pickerOptions2=Object(o.a)(function(){var t=l.a.parseDate(l.a.getFormatDate(r.departDate,"yyyy-MM-dd"));t.setHours(0);var e=t.getTime();return{disabledDate:function(t){return t.getTime()<e}}}),e.onBusiness=Object(o.a)({set:function(t){r.onBusiness=t?"1":"0"},get:function(){return"1"===r.onBusiness}});return Object(o.h)(function(){return{isEmployee:e.isEmployee,onBusiness:r.onBusiness}},function(t){"1"===t.onBusiness&&(r.onBusiness=t.isEmployee?"1":"0")}),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){n()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},Object(o.g)(e),{rules:{notEmpty:c.a.notEmpty,aCity:[].concat(i()(c.a.notEmpty),[{validator:function(t,e,a){""===e&&a(),e===r.dCity?a(new Error("出发到达城市不能一样")):a()},trigger:"blur"}]),arriveDate:e.arriveDate},onExChangeCity:function(){var t=r.dCity;r.dCity=r.aCity,r.aCity=t}})}},XS0u:function(t,e,a){"use strict";e.a={getStorage:function(t){try{return JSON.parse(localStorage.getItem(t)||"null")}catch(t){return null}},setStorage:function(t,e){localStorage.setItem(t,JSON.stringify(e))},removeStorage:function(t){localStorage.removeItem(t)},getStorageInfo:function(){return{keys:Object.keys(localStorage)}},clearAll:function(){localStorage.clear()}}},fyny:function(t,e,a){"use strict";e.a={toFixed2:function(t){return""===t||null==t?"":+Number(t).toFixed(2)},fixed2Money:function(t){if(null==t)return"";var e=Number(String(t).replace(/,/g,"")).toFixed(2).split(".");return e[0]=e[0].replace(/(?=((?!\b)\d{3})+$)/g,","),e.join(".")}}},mFJw:function(t,e,a){},pHo4:function(t,e,a){"use strict";var r=a("lSNA"),l=a.n(r),u=a("Cd74"),p=a("xGbm"),d=a("K2YV"),v=a("JjU2"),g=a("XS0u"),m=a("56Ql");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}e.a=function(){var a=Object(u.e)({searchForm:{onBusiness:"1",departDate:new Date,dCity:"CSX",aCity:"BJS",arriveDate:"",gp:"",journeyType:"OW",spNo:""}}),t=Object(v.a)(a.searchForm),e=t.pickerOptions1,r=t.pickerOptions2,i=t.onBusiness,s=t.rules,n=t.onExChangeCity,o=t.isEmployee,c=Object(d.a)().passengerList;return a.passengerList=c,a.pickerOptions1=e,a.pickerOptions2=r,a.onBusiness=i,a.isEmployee=o,Object(u.h)(function(){return a.onBusiness},function(t,e){t!==e&&(c.value=[])},{lazy:!0}),Object(u.h)(function(){return a.searchForm.journeyType},function(t){if("OW"===t)a.searchForm.arriveDate="";else if(!a.searchForm.arriveDate){var e=p.a.parseDate(a.searchForm.departDate||new Date);a.searchForm.arriveDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()+2)}}),Object(u.c)(function(){g.a.setStorage(m.a.AIR_SELECT_CITY,{departDate:a.searchForm.departDate,dCity:a.searchForm.dCity,aCity:a.searchForm.aCity})}),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){l()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},Object(u.g)(a),{rules:s,onExChangeCity:n,onRemovePassenger:function(t){a.passengerList.splice(t,1)}})}},xHE1:function(t,e,a){"use strict";var r=a("mFJw");a.n(r).a},zCTp:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFdQTFRFAAAAFZv5FZv5FZv5FZv5FZv5FZv5FZv5FZv5FZv5FZv53ocj/YQC74UR/YwT/+bM/s6a//fu/////r14/+/d/rVn/t68/qVF/Z01/tar/ZQk/q1W/saJMg4sdQAAAB10Uk5TAAEDBgsSGyc0QlDP/7////////////////////8ji8QTAAACv0lEQVR4nO3Y2ZrbIAwG0MzajQJiD/b7P2dlsBNPIjmxjW/acpPl4nyaHySTOZ3Kenl9e//4/Pb9x89fYv36/fnx/vb6cqLWXy7Lg2Sp9CGyVNBeloNrbPOapfMiQFS+uZyMT4Bsc1kDHCLrUnB7WYOF1FpOZ6nNWXjwMOWsITWQswJIWgtrVKw1A+VukKWGKPQZVIwljUC7k0zCTBre2GSUHHN2jDvKNMzl7NAVWhWZmERzmYFpOQEEIaDzRb583VEyB5Nyr3IS2UhR5BpF6p3JhMzCpCxdsNaI1CmQEl/s2RnX37so8zApZ6sMLtARP5R3+MZT27gAMzuYjR3Lj0kNeXgDdh3MyG7aNjm6uoNwF8ciTMs63Lj4V4S7opdhOud6HmbuMKex09fA/Kyb3AJLp3IwcQ3MyZd6E2j8gA0pYloFMxPpmgPKZ7jv78cwKZcRNOULhjjIT8B0D4pkqys67JdtMJ2GM6HcMzL0aSZHuQKma7bYFroTQQ1p1GMsfZj68jmYe6ZEyLYEnLDBfR/w8E1n7kmYe6Y4Cb0Yk8Zlr6fjWZiWrfU4nYuWI146rlv7PMzUjIPD1lTR7X3E5XuH/fI8zEwk4+pkQ1eWWY1TY9jAFTAz+f1Ubw0kZpzYeR28cPsaXT/MDBHNms1blCe39mK3HuZ2sLpTj9sNMN2DanBjqHySG6Lg5BwCmFBmXIJzNKvO8aKsezveX0DJPDxL1sOLd/7BxZC3wQtydcvaArPyzN0Gc7fcmbsRpuUwc7fCzKkT++GHv2E3w4/k7fADeQe8LO+BF+Vd8JK8D16Qd8K8vBdm5d0wJ++HGbkBTMstYFJuAlNyG5iQG8H3civ4Tm4G38rt4Bu5IfxVbgl/kZvCc7ktPJMbw1e5NXyRm8OT3B4e5QPgKh8BF/kQeJCPgVE+CD7R/6P/v/7x9QcodZPByES1ngAAAABJRU5ErkJggg=="}}]);